@use "../functions";
@use "../variables";
@use "sass:color";

@mixin generate-button-background($var, $scale-var, $box-shadow) {
  background-color: var(--#{$var}-#{$scale-var});
  color: var(--#{$var}-#{$scale-var}-text);
  box-shadow: $box-shadow;
}

@mixin generate-button-states($var, $scale-var, $box-shadow-focus) {
  &:hover {
    background-color: var(--#{$var}-extra-light);
  }

  &:active {
    background-color: var(--#{$var}-darken);
  }

  &:focus {
    box-shadow: variables.$box-shadow-focus;
  }

  &:disabled {
    opacity: .6;
    background-color: var(--#{$var}-#{$scale-var});
    color: var(--#{$var}-#{$scale-var}-text);
    pointer-events: none;
    box-shadow: none;
  }
}

@mixin generate-button-icon($var, $scale-var) {
  .nuitral-icon {
    color: var(--#{$var}-#{$scale-var}-text);

  }
}

@mixin generate-button-background-classes(
  $theme,
  $box-shadow,
  $box-shadow-focus
) {
  @each $var, $scale in $theme {
    @each $scale-var, $color in $scale {
      @if $scale-var == 500 {
        .nuitral-button-background-#{$var} {
          @include generate-button-background($var, $scale-var, $box-shadow);
          @include generate-button-states($var, $scale-var, $box-shadow-focus);
          @include generate-button-icon($var, $scale-var);
        }
      }
      .nuitral-button-background-#{$var}-#{$scale-var} {
        @include generate-button-background($var, $scale-var, $box-shadow);
        @include generate-button-states($var, $scale-var, $box-shadow-focus);
        @include generate-button-icon($var, $scale-var);
      }
    }
  }
}
